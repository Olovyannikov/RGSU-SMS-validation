let menuButton=document.querySelector(".navigation__button"),mobileNav=document.querySelector(".navigation__list"),popupSms=document.querySelector(".popup-sms"),popupSuccess=document.querySelector(".popup-success"),popupFail=document.querySelector(".popup-fail"),formError=document.querySelector(".form__error"),pass=document.querySelector("#pass"),passReq=document.querySelector("#pass-req"),popupSubmit=document.querySelector(".popup__button--submit"),popupSuccessButton=document.querySelector(".popup__button--success"),phoneIncoreect=document.querySelector(".form__error-phone"),codeIncorrect=document.querySelector(".form__error-code");document.querySelector("#show").onclick=function(){document.querySelector("#tel").value<=""&&phoneIncoreect.classList.add("form__error-phone--invalid");let e=document.querySelector("#tel").checkValidity(),o=pass.checkValidity(),t=passReq.checkValidity();if(pass.value!==passReq.value)return formError.classList.add("form__error--invalid"),!1;1==e&&1==o&&1==t&&popupSms.showModal()},document.querySelector("#close").onclick=function(){popupSms.close()},popupSubmit.onclick=function(){document.querySelector("#code").checkValidity()?(popupSms.close(),popupSuccess.showModal()):(codeIncorrect.classList.add("form__error-code--invalid"),popupSms.close(),popupFail.showModal())},menuButton.onclick=function(){mobileNav.classList.toggle("navigation__list--open"),menuButton.classList.toggle("navigation__button--open")},window.addEventListener("DOMContentLoaded",(function(){[].forEach.call(document.querySelectorAll("#tel"),(function(e){let o;function t(e){e.keyCode&&(o=e.keyCode),this.selectionStart<3&&e.preventDefault();let t="+7 (___) ___ ____",c=0,u=t.replace(/\D/g,""),n=this.value.replace(/\D/g,""),r=t.replace(/[_\d]/g,(function(e){return c<n.length?n.charAt(c++)||u.charAt(c):e}));c=r.indexOf("_"),-1!==c&&(c<5&&(c=3),r=r.slice(0,c));let l=t.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");l=new RegExp("^"+l+"$"),(!l.test(this.value)||this.value.length<5||o>47&&o<58)&&(this.value=r),"blur"===e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)}))}));