let menuButton=document.querySelector(".navigation__button"),mobileNav=document.querySelector(".navigation__list"),popupSms=document.querySelector(".popup-sms"),popupSuccess=document.querySelector(".popup-success"),popupFail=document.querySelector(".popup-fail"),pass=document.querySelector("#pass"),passReq=document.querySelector("#pass-req"),popupSubmit=document.querySelector(".popup__button--submit"),form=document.querySelector(".form");document.querySelector("#show").onclick=function(){document.querySelector("#tel").value<=""?document.querySelector("#tel").classList.add("form__input--error"):document.querySelector("#tel").classList.remove("form__input--error");let e=document.querySelector("#tel").checkValidity(),t=pass.checkValidity(),o=passReq.checkValidity();if(pass.value!==passReq.value||pass.value<="")return pass.classList.add("form__input--error"),passReq.classList.add("form__input--error"),!1;1==e&&1==t&&1==o&&(popupSms.classList.add("popup--visible"),form.classList.add("form--disable"))},document.querySelector("#close").onclick=function(){popupSms.classList.remove("popup--visible"),form.classList.remove("form--disable")},popupSubmit.onclick=function(){document.querySelector("#code").checkValidity()?(popupSms.classList.remove("popup--visible"),popupSuccess.classList.add("popup--visible")):(popupSms.classList.remove("popup--visible"),popupFail.classList.add("popup--visible"))},menuButton.onclick=function(){mobileNav.classList.toggle("navigation__list--open"),menuButton.classList.toggle("navigation__button--open")},window.addEventListener("DOMContentLoaded",(function(){[].forEach.call(document.querySelectorAll("#tel"),(function(e){let t;function o(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();let o="+7 (___) ___ ____",s=0,u=o.replace(/\D/g,""),l=this.value.replace(/\D/g,""),c=o.replace(/[_\d]/g,(function(e){return s<l.length?l.charAt(s++)||u.charAt(s):e}));s=c.indexOf("_"),-1!==s&&(s<5&&(s=3),c=c.slice(0,s));let i=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");i=new RegExp("^"+i+"$"),(!i.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=c),"blur"===e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1),e.addEventListener("keydown",o,!1)}))}));